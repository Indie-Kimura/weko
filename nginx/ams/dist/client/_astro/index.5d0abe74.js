import{Q as I,R as P,S as L,T as O}from"./runtime-core.esm-bundler.82a956ae.js";function g(e){return P()?(L(e),!0):!1}function w(e){return typeof e=="function"?e():I(e)}const E=typeof window<"u",S=()=>{},k=_();function _(){var e;return E&&((e=window?.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function m(e){var n;const r=w(e);return(n=r?.$el)!=null?n:r}const v=E?window:void 0;function h(...e){let n,r,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,o,l]=e,n=v):[n,r,o,l]=e,!n)return S;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const a=[],f=()=>{a.forEach(s=>s()),a.length=0},c=(s,p,t,i)=>(s.addEventListener(p,t,i),()=>s.removeEventListener(p,t,i)),d=O(()=>[m(n),w(l)],([s,p])=>{f(),s&&a.push(...r.flatMap(t=>o.map(i=>c(s,t,i,p))))},{immediate:!0,flush:"post"}),y=()=>{d(),f()};return g(y),y}let A=!1;function W(e,n,r={}){const{window:o=v,ignore:l=[],capture:a=!0,detectIframe:f=!1}=r;if(!o)return;k&&!A&&(A=!0,Array.from(o.document.body.children).forEach(t=>t.addEventListener("click",S)));let c=!0;const d=t=>l.some(i=>{if(typeof i=="string")return Array.from(o.document.querySelectorAll(i)).some(u=>u===t.target||t.composedPath().includes(u));{const u=m(i);return u&&(t.target===u||t.composedPath().includes(u))}}),s=[h(o,"click",t=>{const i=m(e);if(!(!i||i===t.target||t.composedPath().includes(i))){if(t.detail===0&&(c=!d(t)),!c){c=!0;return}n(t)}},{passive:!0,capture:a}),h(o,"pointerdown",t=>{const i=m(e);i&&(c=!t.composedPath().includes(i)&&!d(t))},{passive:!0}),f&&h(o,"blur",t=>{var i;const u=m(e);((i=o.document.activeElement)==null?void 0:i.tagName)==="IFRAME"&&!u?.contains(o.document.activeElement)&&n(t)})].filter(Boolean);return()=>s.forEach(t=>t())}function b(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function D(...e){let n,r,o={};e.length===3?(n=e[0],r=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,r=e[0],o=e[1]):(n=e[0],r=e[1]):(n=!0,r=e[0]);const{target:l=v,eventName:a="keydown",passive:f=!1,dedupe:c=!1}=o,d=b(n);return h(l,a,s=>{s.repeat&&w(c)||d(s)&&r(s)},f)}export{W as a,D as o};
