---
import Layout from "../../layouts/Layout.astro";
import Form from "../../components/Form.vue";
import FileListTable from "../../components/FileList/FileListTable.vue";
import ModalFilterFileList from "../../components/Modal/ModalFilterFileList.vue";
import ButtonFilter from "/images/btn/btn-filter.svg";
import BtnGotoTopSp from "/images/btn/btn-gototop_sp.svg";

const id = Astro.params.slug

---
<Layout title="MIBY" pageIndex="filelist" catch="未病データベースタイトル＆キャッチコピー">
    <Form client:only="vue" />
      <main class="max-w-[1024px] mx-auto px-2.5">
        <div class="breadcrumb flex flex-wrap w-full">
          <a class="text-miby-link-blue" href="/"><span class="font-medium underline">TOP</span></a>
          <p class="text-miby-dark-gray">ファイルリスト</p>
        </div>
        <div class="w-full">
          <div class="w-full">
            <div class="bg-miby-light-blue w-full">
              <p class="text-white leading-[43px] pl-5 icons icon-list font-bold">検索結果</p>
            </div>
              <FileListTable client:only="vue" id={id} />
          </div>
        </div>
        <button id="page-top" class="block lg:hidden w-10 h-10 z-40 fixed right-5 bottom-2.5"><img src={BtnGotoTopSp} alt=""></button>
      </main>
</Layout>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
  // pageTop
  let pagetopBtn = document.getElementById("page-top");
  pagetopBtn?.addEventListener("click", (e) => {
    window.scrollTo({top: 0, behavior: 'smooth'})
    return false;
  });
})
</script>